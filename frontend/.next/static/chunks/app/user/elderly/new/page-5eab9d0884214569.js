(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[709],{11413:(e,s,l)=>{Promise.resolve().then(l.bind(l,63609))},23861:(e,s,l)=>{"use strict";l.d(s,{A:()=>a});let a=(0,l(19946).A)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]])},29676:(e,s,l)=>{"use strict";l.d(s,{A:()=>a});let a=(0,l(19946).A)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]])},35169:(e,s,l)=>{"use strict";l.d(s,{A:()=>a});let a=(0,l(19946).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},63609:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>v});var a=l(95155),i=l(12115),n=l(35695),c=l(52639),r=l(30285),t=l(62523),d=l(38979),h=l(66695),o=l(59434);let x=i.forwardRef((e,s)=>{let{className:l,...i}=e;return(0,a.jsx)("textarea",{className:(0,o.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",l),ref:s,...i})});x.displayName="Textarea";var m=l(59409),j=l(31949),p=l(35169),u=l(4229),y=l(62177),f=l(90221),b=l(68309);let N=b.Ik({name:b.Yj().min(1,"名前を入力してください"),phone:b.Yj().regex(/^[0-9-]+$/,"正しい電話番号を入力してください").optional(),address:b.Yj().optional(),emergencyContact:b.Yj().optional(),medicalInfo:b.Yj().optional(),checkTime:b.Yj(),enableLineNotification:b.zM(),enablePhoneCall:b.zM()});function v(){let e=(0,n.useRouter)(),[s,l]=(0,i.useState)(!1),{register:o,handleSubmit:b,formState:{errors:v},setValue:g,watch:k}=(0,y.mN)({resolver:(0,f.u)(N),defaultValues:{checkTime:"08:00",enableLineNotification:!0,enablePhoneCall:!0}}),C=async s=>{l(!0);try{console.log("家族登録データ:",s),e.push("/user/elderly")}catch(e){console.error("登録エラー:",e),l(!1)}};return(0,a.jsx)(c.N,{activeItem:"elderly",children:(0,a.jsxs)("div",{className:"p-6 lg:p-8 max-w-3xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("div",{className:"flex items-center gap-4 mb-2",children:(0,a.jsxs)(r.$,{variant:"ghost",size:"sm",onClick:()=>e.back(),children:[(0,a.jsx)(p.A,{className:"w-4 h-4 mr-2"}),"戻る"]})}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"新規家族登録"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:"見守りたいご家族の情報を登録してください"})]}),(0,a.jsxs)("form",{onSubmit:b(C),className:"space-y-6",children:[(0,a.jsxs)(h.Zp,{children:[(0,a.jsxs)(h.aR,{children:[(0,a.jsx)(h.ZB,{children:"基本情報"}),(0,a.jsx)(h.BT,{children:"ご家族の基本的な情報を入力してください"})]}),(0,a.jsxs)(h.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(d.J,{htmlFor:"name",children:"お名前 *"}),(0,a.jsx)(t.p,{id:"name",...o("name"),placeholder:"例：田中 花子",className:v.name?"border-red-500":""}),v.name&&(0,a.jsx)("p",{className:"text-sm text-red-500 mt-1",children:v.name.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d.J,{htmlFor:"phone",children:"電話番号"}),(0,a.jsx)(t.p,{id:"phone",...o("phone"),placeholder:"例：090-1234-5678",className:v.phone?"border-red-500":""}),v.phone&&(0,a.jsx)("p",{className:"text-sm text-red-500 mt-1",children:v.phone.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d.J,{htmlFor:"address",children:"住所"}),(0,a.jsx)(x,{id:"address",...o("address"),placeholder:"例：東京都千代田区...",rows:2})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d.J,{htmlFor:"emergencyContact",children:"緊急連絡先"}),(0,a.jsx)(t.p,{id:"emergencyContact",...o("emergencyContact"),placeholder:"例：090-9876-5432"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d.J,{htmlFor:"medicalInfo",children:"医療情報・備考"}),(0,a.jsx)(x,{id:"medicalInfo",...o("medicalInfo"),placeholder:"かかりつけ医、持病、服用薬など",rows:3})]})]})]}),(0,a.jsxs)(h.Zp,{children:[(0,a.jsxs)(h.aR,{children:[(0,a.jsx)(h.ZB,{children:"通知設定"}),(0,a.jsx)(h.BT,{children:"安否確認の時刻と通知方法を設定してください"})]}),(0,a.jsxs)(h.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(d.J,{htmlFor:"checkTime",children:"安否確認時刻"}),(0,a.jsxs)(m.l6,{value:k("checkTime"),onValueChange:e=>g("checkTime",e),children:[(0,a.jsx)(m.bq,{id:"checkTime",children:(0,a.jsx)(m.yv,{})}),(0,a.jsx)(m.gC,{children:Array.from({length:24},(e,s)=>{let l=s.toString().padStart(2,"0");return(0,a.jsxs)(m.eb,{value:"".concat(l,":00"),children:[l,":00"]},l)})})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(d.J,{htmlFor:"lineNotification",children:"LINE通知"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"LINEで安否確認メッセージを送信します"})]}),(0,a.jsx)(j.d,{id:"lineNotification",checked:k("enableLineNotification"),onCheckedChange:e=>g("enableLineNotification",e)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(d.J,{htmlFor:"phoneCall",children:"自動架電"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"応答がない場合、自動で電話をかけます"})]}),(0,a.jsx)(j.d,{id:"phoneCall",checked:k("enablePhoneCall"),onCheckedChange:e=>g("enablePhoneCall",e)})]})]})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,a.jsx)(r.$,{type:"button",variant:"outline",onClick:()=>e.back(),children:"キャンセル"}),(0,a.jsxs)(r.$,{type:"submit",className:"cute-button",disabled:s,children:[(0,a.jsx)(u.A,{className:"w-4 h-4 mr-2"}),s?"登録中...":"登録する"]})]})]})]})})}},81586:(e,s,l)=>{"use strict";l.d(s,{A:()=>a});let a=(0,l(19946).A)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])}},e=>{e.O(0,[874,838,942,889,171,397,441,964,358],()=>e(e.s=11413)),_N_E=e.O()}]);